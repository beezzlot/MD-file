# Лабораторная работа №5. Тема: "Методы противодействия основным компьютерным атакам"
Цель работы
----------

Разбираем типовые сценарии атак на корпоративные сети, а также основные тенденции с обеспечении безопасности IT-инфраструктур. 


Оборудование, ПО:
----------
Виртуальная машина под управлением ОС Astra Linux 1.7  в режиме защищенности "Воронеж".


Ход работы:
----------

Пентестеры (или penetration testers) - специалисты по тестированию на проникновение в корпоративные системы. Их основная задача заключается в проверке уровня безопасности компьютерных систем, сетей или веб-приложений путем имитации реальных кибератак. Пентестеры используют различные методы и инструменты, чтобы обнаружить уязвимости и слабые места в системах, которые могут быть использованы злоумышленниками. Кроме того, они помогают организациям усовершенствовать свои меры защиты и повысить уровень кибербезопасности.

Пентестер - как хакер в "белой" шляпе, свои знания по взлому он применяет не во вред - а в благо! Попробуем в ходе данной лабораторной работы думать, как взломщик и защитник. По возможности, одновременно. 

# Эшелонированная  система безопасности

В современном мире IT-инфраструктура защищается на каждом уровне. Такой подход называется эшелонированная защита (Defence in Depth). Например, если главный сайт компании каким-то образом был скомпрометирован, злоумышленникам должно быть сложно продвинуться внутрь инфраструктуры, т.к. на следующем уровне их должны будут обнаружить средства защиты демилитаризированной зоны.

Подход Defence in Depth включает в себя следующие пункты:

1. установка антивирусов на все машины в инфраструктуре и регулярное обновление антивирусных баз;

2. системы обнаружения и предотвращения атак(IDS и IPS), а также межсетевые экраны с настроенными правилами позволяют контролировать и фильтровать трафик, проходящий по корпоративной сети;

3. для защиты на уровне приложений используются такие решения, как Web Application Firewall, почтовые фильтры, которые отсекают атаки на веб, отсеивают почтовый спам и предотвращают рассылки писем с прикреплёнными вредоносными вложениями;

4. регулярное обновление всех компонентов инфраструктуры;

5. если в инфраструктуре участвует служба каталогов (например Microsoft Active Directory), то требуется грамотная настройка групповых политик, распределение минимальных необходимых прав между пользователями и т.д.;

6. инструктирование сотрудников о работе с конфиденциальными файлами, использовании ресурсов инфраструктуры;

7. также сюда можно включить защиту на физическом уровне, т.е. служба охраны, ограниченный доступ в различные помещения и т.п.

## Хорошо, вот я выстроил 7-и уровненую систему, но ведь все разрушится об 0-day уязвимость? 

Крайние результаты исследований инцидентов показали, что киберпреступники стали реже использовать сложные атаки с использованием 0-day уязвимостей. Вместо этого они предпочитают более простые методы нападения, которые не требуют больших финансовых затрат. Это связано в том числе с тем, что многие компании не имеют эффективной системы обновления программного обеспечения. Обновление крупной инфраструктуры часто требует значительных финансовых и человеческих ресурсов, а значит довольные старые уязвимости могут быть успешно проэксплуатированы. 


# Злоумышленнику надо получить доступ внутрь системы. Какие варианты могут быть? 

1. На ум сразу приходят протоколы удаленного доступа. Среди распространенных инструментов — Telnet, SSH и протоколы для удаленного подключения вроде RDP, VNC, Spice. Любой открытый порт для удаленного доступа - идеальная цель для атаки по подбору паролей (BruteForce).

Такая атака не требует никаких особенных знаний и навыков: в большинстве случаев достаточно ноутбука, программы для подбора учетных данных (например, Hydra или NMAP) и словаря самых популярных паролей, которые можно без труда найти в интернете.

Нередко в качестве пароля от SSH и Telnet можно встретить комбинацию root:root, root:toor, admin:admin, test:test, astra:astra или astra:123435678.

## И что нам делать? 

Для SSH следует отказаться от авторизации по паролю.

Для этого необходимо настроить доступ по ключам с авторизованных удаленных мест (например, с компьютеров ваших администраторов)

Для этого в конфигурационном файле - **/etc/ssh/sshd_config**

![Картинка](Screen1.png)









# Практическая работа

1. Выполните аудит вашей системы через linpeas.sh. 

      *  Вывод работы linpeash.sh выведите в /opt/linpeas.txt;

2. Выполните сканирование через ScanOVAL. 






# Дополнительная информация:
1) Руководство по NSE [Ссылка](https://networkguru.ru/nmap-scripting-engine-rukovodstvo/)


